%! TEX program = xelatex
% 
% Versi 1.1
%
% Template Tugas Akhir 
% Program Studi Sistem dan Teknologi Informasi
% Sekolah Teknik Elektro dan Informatika
% Institut Teknologi Bandung
% 
% Dibuat oleh: IGB Baskara Nugraha 
% Email: baskara@itb.ac.id 
% 
%
% Petunjuk penggunaan:
% 1. Ada 2 file utama, yaitu TA.tex (file ini) dan daftar-pustaka.bib (file daftar pustaka).
% 2. Sunting TA.tex sesuai dengan kebutuhan Anda.
% 3. Sunting atau generate isi daftar-pustaka.bib dengan referensi yang Anda gunakan, sesuai dengan format BibLaTeX.
% 4. Simpan kedua file tersebut dalam satu folder yang sama.
% 5. Kompilasi file TA.tex menggunakan XeLaTeX dan Biber (lihat urutan cara kompilasi di bawah).
% 6. Hasil kompilasi adalah file TA.pdf yang siap dicetak.
% 
% Urutan cara kompilasi (melalui command line):
% 1. xelatex TA.tex
% 2. biber TA      
% 3. xelatex  TA.tex
% 4. xelatex  TA.tex
%
% Catatan:
% - Pastikan Anda telah menginstal paket-paket LaTeX yang diperlukan, termasuk
%   biblatex-chicago dan fontspec.
% - Gunakan editor LaTeX yang mendukung XeLaTeX, seperti TeXstudio, Overleaf, atau lainnya.
% - Jika meenggunakan Visual Studio Code sebagai editor, pastikan mengatur "latex-workshop.latex.tools" dan
%   "latex-workshop.latex.recipes" untuk mendukung XeLaTeX dan Biber dengan cara menambahkan konfigurasi berikut:
%   "latex-workshop.latex.tools": [ 
%       {
%           "name": "xelatex",
%           "command": "xelatex",
%           "args": [
%               "-synctex=1",
%               "-interaction=nonstopmode",
%               "-file-line-error",
%               "%DOC%"
%           ]
%       },
%       {
%           "name": "biber",
%           "command": "biber",
%           "args": [
%               "%DOCFILE%"
%           ]
%       }
%   ],
%   "latex-workshop.latex.recipes": [
%       {
%           "name": "xelatex -> biber -> xelatex*2",
%           "tools": [
%               "xelatex",
%               "biber",
%               "xelatex",
%               "xelatex"
%           ]
%       }
%   ]
% - Untuk referensi lebih lanjut tentang penggunaan BibLaTeX dengan gaya Chicago, silakan merujuk ke dokumentasi resmi BibLaTeX.
%   https://ctan.org/pkg/biblatex-chicago
% - Untuk referensi lebih lanjut tentang penggunaan XeLaTeX dan fontspec, silakan merujuk ke dokumentasi resmi fontspec.
%   https://ctan.org/pkg/fontspec
% - Selamat menyusun dokumen tugas akhir Anda!
%
\documentclass[12pt,a4paper]{book}

% --- Main packages ---
\usepackage[utf8]{inputenc} % for UTF-8 encoding
\usepackage{fontspec} % for font selection
\usepackage[indonesian]{babel} % untuk bahasa Indonesia
\usepackage{csquotes} % for context-sensitive quotation facilities
\usepackage{setspace} % for line spacing
\usepackage{graphicx} % for images
\usepackage{caption} % for customizing captions
\usepackage{subcaption} % for sub-figures
\usepackage{hyperref} % for hyperlinks
\usepackage{tocloft} % for customizing table of contents
\usepackage{titlesec} % for customizing titles
\usepackage{lipsum} % for dummy text (lorem ipsum text)
\usepackage{floatrow} % for customizing float (figure and table) positions
\usepackage{listings} % for code listing
\usepackage{amsmath} % for math
\usepackage{amssymb} % for math symbols
\usepackage[shortlabels]{enumitem} % for customizing lists
\usepackage[skip=12pt]{parskip} % for spacing between paragraphs
\usepackage{longtable} % for long tables
\usepackage{booktabs} % for better table rules
\usepackage[bahasai]{datetime2} % for date formatting in Indonesian
\usepackage{geometry} % for page margins
\usepackage{algorithm} % for algorithms
\usepackage{algorithmicx} % for algorithmic environment
\usepackage{algpseudocode} % for pseudocode
\usepackage{microtype} % Untuk optimasi typography dan spacing
\usepackage{floatrow} % for customizing float (figure and table) positions
\usepackage{array} % for better arrays (eg. in tabular environment)
\usepackage{threeparttable} % for tables with notes
\usepackage{tabularx} % for tables with adjustable-width columns
\usepackage{xcolor} % for color definitions
\usepackage[title,titletoc]{appendix} % for appendix management
\usepackage{csquotes} % for context-sensitive quotation facilities

\setmainfont{Times New Roman} % set main font to Times New Roman
\onehalfspacing % spasi 1.5

% --- Bibliography menggunakan BibLaTeX dengan gaya Chicago ---
\usepackage[
    backend=biber,
    authordate,
    language=english,
    autolang=other
]{biblatex-chicago}
\addbibresource{daftar-pustaka.bib}

% --- Terjemahan istilah daftar pustaka ke Bahasa Indonesia ---
\DefineBibliographyStrings{english}{
  and          = {dan},
  andothers    = {dkk.},
  editor       = {penyunting},
  editors      = {penyunting},
  translator   = {penerjemah},
  byeditor     = {disunting oleh},
  bytranslator = {diterjemahkan oleh},
  in           = {dalam},
  edition      = {edisi},
  pages        = {hal.},
  page         = {hal.},
  volume       = {vol.},
  number       = {no.},
  urlseen      = {diakses pada},
  url          = {tautan},
}

% --- ubah format sitasi menjadi (Author Year) ---
\let\oldcite\cite
\renewcommand{\cite}{\parencite}

% --- hilangkan koma sebelum 'dan' pada daftar pustaka ---
\renewcommand*{\finalandcomma}{} 

% --- hyperlinks setup ---
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    citecolor=black,
    urlcolor=black
}

% -- No Header dan No Footer ---
\pagestyle{plain}

% --- Ubah nama list of listing ke "DAFTAR LISTING" ---
\renewcommand{\lstlistlistingname}{DAFTAR \textit{LISTING}} 
\renewcommand{\lstlistingname}{\textit{Listing}}
\lstset{basicstyle=\ttfamily\footnotesize,breaklines=true}

% --- Ubah nama list of algorithm ke "DAFTAR ALGORITMA" ---
\renewcommand{\algorithmname}{Algoritma}
\renewcommand{\listalgorithmname}{DAFTAR ALGORITMA}
\lstset{basicstyle=\ttfamily\footnotesize,breaklines=true}
\renewcommand{\thealgorithm}{\thechapter.\arabic{algorithm}}

\renewcommand \cftchapdotsep{4.5} % Atur jarak titik-titik pada daftar isi

%\cftsetrmarg{4em}  % agar judul subbab tidak mepet ke nomor halaman di daftar isi (optional)
% -- Atur indentasi judul bab, subbab, dan subsubbab di daftar isi ---
\setlength{\cftchapindent}{0em}
\setlength{\cftchapnumwidth}{1.8em}
\setlength{\cftsecindent}{1.8em}
\setlength{\cftsecnumwidth}{2.4em}
\setlength{\cftsubsecindent}{4.2em}
\setlength{\cftsubsecnumwidth}{2.8em}
\setlength{\cftsubsubsecindent}{7.0em}
\setlength{\cftsubsubsecnumwidth}{3.2em}

% --- Ubah nama bulan ke Bahasa Indonesia ---
\renewcommand*{\DTMbahasaimonthname}[1]{%
  \ifcase#1 %
    \or Januari%  % 1st month
    \or Februari%  % 2nd month
    \or Maret%  % 3rd month
    \or April%  % 4th month
    \or Mei%  % 5th month
    \or Juni%  % 6th month
    \or Juli%  % 7th month
    \or Agustus%  % 8th month
    \or September%  % 9th month
    \or Oktober%  % 10th month
    \or November%  % 11th month
    \or Desember%  % 12th month
  \fi
}

% --- Atur margin halaman untuk single-sided format (satu muka) ---
\geometry{
      a4paper,
      inner=4cm,
      outer=3cm,
      top=3cm,
      bottom=3cm
}

% --- LISTINGS STYLE FOR PYTHON CODE ---
% --- Silakan diubah sesuai selera dan kebutuhan ---
% Define colors for syntax highlighting
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% Configure listings style
\lstdefinestyle{pythonstyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4,
    language=Python
}
\lstset{style=pythonstyle}
% --- END OF LISTINGS STYLE FOR PYTHON CODE ---

% --- FORMAT TAMPILAN JUDUL BAB, SUBBAB, JUDUL GAMBAR DAN TABEL ---
\setcounter{tocdepth}{4} % kedalaman daftar isi sampai subsubbab
\setcounter{secnumdepth}{4} % kedalaman penomoran sampai subsubbab
% --- Judul Bab ---
\titleformat{\chapter}[display]
      {\centering\normalfont\large\bfseries} % Commands for the entire chapter title
      {\MakeUppercase \chaptertitlename\ \thechapter}{0pt}{\large} % Chapter number format
      \renewcommand\thechapter{\Roman{chapter}}
% --- Atur spasi sebelum dan sesudah judul bab/chapter ---  
\titlespacing{\chapter}{0pt}{0pt}{5pt}
\titlespacing{\section}{0pt}{6pt}{6pt}
\titlespacing{\subsection}{0pt}{6pt}{6pt}
\titlespacing{\subsubsection}{0pt}{6pt}{6pt}

% --- Judul Subbab dan Subsubbab ---
\titleformat{\section}
	{\normalfont\bfseries}
	{\thesection}{1em}{}
\titleformat{\subsection}
	{\normalfont\bfseries}
	{\thesubsection}{1em}{}
\titleformat{\subsubsection}
	{\normalfont\bfseries}
	{\thesubsubsection}{1em}{}

% --- Gambar ---
\captionsetup[figure]{
  labelsep=space, 
  format=hang
}  
\floatsetup[figure]{
  capposition=bottom
} 
% --- Tabel ---
\captionsetup[table]{
  labelsep=space, 
  format=hang
} 
\floatsetup[table]{
  capposition=top, 
  objectset=centering, 
  captionskip=6pt
} 
% --- Listing ---
\captionsetup[lstlisting]{
  labelsep=space, 
  format=hang, 
  justification=raggedright, 
  singlelinecheck=false
}
\floatsetup[lstlisting]{
  capposition=top
}
% --- Algoritma ---
\captionsetup[algorithm]{
  labelsep=space, 
  format=hang, 
  justification=raggedright, 
  singlelinecheck=false
}
\floatsetup[algorithm]{
  capposition=top
}

% --- Atur indentasi paragraf ---
\setlength{\parindent}{0pt}
\setlength{\parskip}{12pt plus 2pt minus 1pt}

\setlist[enumerate]{nosep, topsep=-10pt} % mengurangi spasi antar item dan atas bawah daftar
\setlist[itemize]{nosep, topsep=-10pt} % mengurangi spasi antar item dan atas bawah daftar

% ==========================================
% AWAL DOKUMEN
% ==========================================
\begin{document}

% ==========================================
% HALAMAN AWAL (FRONTMATTER)
% ==========================================
\frontmatter
% --- Atur format daftar isi untuk bagian frontmatter ---
\addtocontents{toc}{\protect\setlength{\cftbeforechapskip}{0pt}}
\addtocontents{toc}{\protect\renewcommand{\protect\cftchapfont}{\protect\normalfont}}
\addtocontents{toc}{\protect\renewcommand{\protect\cftchappagefont}{\protect\normalfont}}
\renewcommand{\cftchapleader}{\cftdotfill{\cftchapdotsep}}
% ==========================================

\input{1 Halaman Judul.tex}
\input{2 Lembar Pengesahan.tex}
\input{3 Lembar Pernyataan.tex}
\input{4 Abstrak.tex}
\input{5 Kata Pengantar.tex}
% ==========================================
% --- Atur margin halaman untuk double-sided format (bolak-balik) ---
% --- Comment baris di bawah ini jika ingin tetap menggunakan single-sided format ---
% --- atau pindahkan ke bagian setelah \mainmatter jika hanya ingin halaman utama saja yang bolak-balik ---

\newgeometry{
      twoside,
      a4paper,
      inner=4cm,
      outer=3cm,
      top=3cm,
      bottom=3cm
}
% ==========================================


\input{6 Daftar Isi.tex}
%\input{7 Daftar Lampiran.tex} % Optional. Daftar lampiran sudah ada di dalam daftar isi.
\input{8 Daftar Gambar.tex}
\input{9 Daftar Tabel.tex}
\input{10 Daftar Algoritma.tex}
\input{11 Daftar Listing.tex}
\input{12 Daftar Singkatan.tex}
\input{13 Daftar Simbol.tex}

% ==========================================
% BAGIAN UTAMA DOKUMEN
% ==========================================
\mainmatter
% --- Atur format daftar isi untuk bagian mainmatter ---
\addtocontents{toc}{\protect\setlength{\cftbeforechapskip}{10pt}}
\addtocontents{toc}{\protect\renewcommand{\protect\cftchapfont}{\protect\bfseries}}
\addtocontents{toc}{\protect\renewcommand{\protect\cftchappagefont}{\protect\bfseries}}
\renewcommand{\cftchapleader}{\bfseries\cftdotfill{\cftchapdotsep}}
% ==========================================

\input{Bab I - Pendahuluan.tex}

\input{Bab II - Studi.tex}

\input{Bab III - Analisis.tex}

\input{Bab IV - Perancangan.tex}

\input{Bab V - Implementasi.tex}

\input{Bab VI - Evaluasi.tex}

\input{Bab VII - Penutup.tex}



% ==========================================
% DAFTAR PUSTAKA
% ==========================================
\cleardoublepage
\printbibliography[title={DAFTAR PUSTAKA}]

% ==========================================
% LAMPIRAN (optional)
% ==========================================
\appendix

% Uncomment baris di bawah ini jika ada lampiran
\begin{appendices}
  %\makeatletter 
  %\renewcommand{\thechapter}{\@Alph\c@chapter} 
  %\makeatother
\input{Lampiran-A.tex}
\input{Lampiran-B.tex}
\end{appendices}
\backmatter

\end{document}
 